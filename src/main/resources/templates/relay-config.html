<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Tor Relay Configuration</title>
    <link rel="stylesheet" href="/css/tabs.css"> <!-- Include your CSS styles here -->
</head>
<body>
<h1>Tor Relay Configuration</h1>

<!-- Display success message if provided -->
<div th:if="${successMessage}" class="success-message">
    <p th:text="${successMessage}"></p>
</div>

<!-- Create the tabs -->
<div class="tab">
    <button class="tablinks" onclick="openTab(event, 'relayTab')">Guard Relay</button>
    <button class="tablinks" onclick="openTab(event, 'bridgeTab')">Bridge</button>
    <button class="tablinks" onclick="openTab(event, 'onionTab')">Exit Relay</button>
</div>

<!-- Relay Tab Content -->
<div id="relayTab" class="tabcontent">
    <form action="/relay/configure" method="post">
        <label for="relayNickname">Nickname:</label>
        <input type="text" id="relayNickname" name="relayNickname" required><br><br>

        <label for="relayContact">Contact Information:</label>
        <input type="email" id="relayContact" name="relayContact" required><br><br>

        <label for="relayPort">ORPort (e.g., 9001):</label>
        <input type="text" id="relayPort" name="relayPort" required><br><br>

        <input type="checkbox" id="includeBandwidth" name="includeBandwidth"> Include Bandwidth (KB/s):<br>

        <div id="bandwidthField" style="display: none;">
            <label for="relayBandwidth">Bandwidth (in KB/s):</label>
            <input type="number" id="relayBandwidth" name="relayBandwidth"><br><br>
        </div>

        <button type="submit">Configure Relay</button>
    </form>

    <form action="/relay/start" method="post">
        <button type="submit">Start Tor Relay</button>
    </form>

    <form action="/relay/stop" method="post">
        <button type="submit">Stop Tor Relay</button>
    </form>
</div>

<!-- Other Relay Type Tab Content -->
<div id="bridgeTab" class="tabcontent">
    <form action="/bridge/configure" method="post">
        <label for="bridgePort">Bridge Port (e.g., 9001):</label>
        <input type="text" id="bridgePort" name="bridgePort" required><br><br>

        <label for="bridgeTransportListenAddr">Server Transport Listen Address (e.g.,9001):</label>
        <input type="text" id="bridgeTransportListenAddr" name="bridgeTransportListenAddr" required><br><br>

        <label for="bridgeContact">Contact Email:</label>
        <input type="email" id="bridgeContact" name="bridgeContact" required><br><br>

        <label for="bridgeNickname">Nickname:</label>
        <input type="text" id="bridgeNickname" name="bridgeNickname" required><br><br>

        <button type="submit">Configure Bridge</button>
    </form>
</div>

<!-- Other Relay Type Tab Content -->
<div id="onionTab" class="tabcontent">
    <form action="/onion-service/configure" method="post">
        <label for="onionServicePort">Onion Service Port (e.g., 80):</label>
        <input type="text" id="onionServicePort" name="onionServicePort" required><br><br>

        <button type="submit">Configure Onion Service</button>
    </form>

    <form action="/onion-service/start" method="post">
        <button type="submit">Start Tor Onion Service</button>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/js/tabs.js"></script> <!-- Include your JavaScript -->
</body>
</html>
